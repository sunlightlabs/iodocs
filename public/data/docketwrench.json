{"endpoints": [{"name": "API Endpoints", "methods": [{"MethodName": "Agency", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "agency", "Description": "a Regulations.gov agency ID, e.g., \"FAA\""}], "RequiresOAuth": "N", "URI": "/agency/:agency", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint powers Docket Wrench's agency pages.  Included are general metadata (name, URL, and ID), as well as stats about the dockets the agency manages, and the\ndocuments within those dockets.  The stats are, for the most part, structured similarly to those provided by the docket endpoint; note, though, that date aggregation is\nby month rather than by week because of the longer time scales involved in agency data.  Additional information is included about noteworthy dockets for that agency: <em>recent_dockets</em>\ncontains dockets whose first submissions were most recent, and <em>popular_dockets</em> includes dockets that have had the most submissions.</p>\n"}, {"MethodName": "Docket", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "docket_id", "Description": "a Regulations.gov ID, e.g. \"EPA-HQ-OAR-2009-0234\""}], "RequiresOAuth": "N", "URI": "/docket/:docket_id", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint powers Docket Wrench's docket pages.  Included are general metadata (title, URL, year, ID, and whether or not it's a rulemaking docket),\ninformation about the agency that manages the docket, and stats about the docket's contents.  Noteworthy stats subkeys include the total document count\n(<em>count</em>), a breakdown of documents by type (<em>type_breakdown</em>, broken down into <em>notice</em>, <em>proposed_rule</em>, <em>rule</em>, <em>public_submission</em>, <em>supporting_material</em>, and <em>other</em>),\ninformation about the top entities that were recognized as having submitted comments (<em>top_submitter_entities</em>) and that were mentioned (<em>top_text_entities</em>).\nThe <em>doc_info</em> key includes a subkey <em>fr_docs</em> the lists and summarizes all Federal Register documents (notices, proposed rules, and rules) within the docket, with metadata.\n<em>weeks</em> is a breakdown of submissions by week over the date range of the receipt of submissions (included separately in the <em>date_range</em> key).</p>\n"}, {"MethodName": "Document", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "document_id", "Description": "a Regulations.gov document ID, e.g., \"EPA-HQ-OAR-2009-0234-20377\""}], "RequiresOAuth": "N", "URI": "/document/:document_id", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint powers Docket Wrench's document pages.  Included are general metadata (type, title, URL, year, and ID),\ninformation about the dockey in which the document can be found, and information about agency that manages that docket. \nStats are also included about the docket, which powers the docket summary graph on Docket Wrench document pages.\nAdditional information included about the document includes summary information and URLs about each piece of text included\nwith the comment (either a <em>view</em> or an <em>attachment</em> in Regulations.gov parlance), relevant information about submitting or mentioned\nentities, and <em>details</em> as supplied by Regulations.gov, such as date received, federal register number, etc.  Docket Wrench provides these\ndetails in two forms, one under the <em>details</em> key which is as provided by Regulations.gov, and the other under the <em>clean_details</em> key, which\nincludes much of the same information cleaned up for display on Docket Wrench: dates are pretty, names are combined, some identifiers are standardized,\nand information is grouped and ordered.</p>\n<p>Additionally, if the document is a federal register document (a rule, proposed rule, or notice), the response includes stats about comments submitted on\nthe document, if any.  The format for these stats is similar to that for dockets.</p>\n"}, {"MethodName": "Entity", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "entity_id", "Description": "an Influence Explorer entity ID, e.g., \"d958530f0e2a4979a35af270dfb309a3\""}, {"Default": "", "Required": "Y", "Type": "string", "Name": "type", "Description": "an Influence Explorer entity type; currently only \"organization\" is supported."}], "RequiresOAuth": "N", "URI": "/:type/:entity_id", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint powers Docket Wrench's organization pages.  Included are general metadata (type, name, URL, and ID),\nas well as stats about documents the entity submitted or was mentioned in.  This functionality is powered by the database\nof entities underlying our Influence Explorer project, and relies on a somewhat-lossy text-matching process to identify\nboth submissions and mentions; see the respective methodology pages for Influence Explorer and Docket Wrench for more information.</p>\n<p>Stats are divided into <em>text_mentions</em> and <em>submitter_mentions</em> objects, which are structurally similar to one another, and contain information\nabout documents that mention the entity, and documents that the entity likely submitted, respectively.  In each is general metadata about top dockets\nand agencies for each of these document types.  For the agencies, breakdowns of submission by month are included to facilitate drawing of graphs of\nsubmissions over time.</p>\n"}, {"MethodName": "Entity-Docket Overlap", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "entity_id", "Description": "an Influence Explorer entity ID"}, {"Default": "", "Required": "Y", "Type": "string", "Name": "document_type", "Description": "either 'mentions' or 'submissions'"}, {"Default": "", "Required": "Y", "Type": "string", "Name": "docket_id", "Description": "a Regulations.gov docket ID"}, {"Default": "", "Required": "Y", "Type": "string", "Name": "entity_type", "Description": "the type of entity; currently must be 'organization'"}], "RequiresOAuth": "N", "URI": "/:entity_type/:entity_id/:document_type_in_docket/:docket_id", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint powers allows Influence Explorer to show specific documents from a specific docket that mention or were submitted by a specific entity; this information\nif included on Influence Explorer organization pages.  Metadata is structured similarly to the same information on docket, entity, and document endpoints.</p>\n"}, {"MethodName": "Entity Summary", "parameters": [], "RequiresOAuth": "N", "URI": "/entity_list", "HTTPMethod": "GET", "Synopsis": "This endpoint provides a list of the IDs of all organizations that are recognized to have submitted or be mentioned in at least one document.  In addition to the\nusual JSON output, this endpoint can be used with a <em>Content-Accept</em> header of \"application/octet-stream\" which will return the entity list in a highly compact binary format\nconsisting of just the UUIDs of the entities in question, expressed as pairs of big-endian unsigned longs; see http://stackoverflow.com/questions/6877096/how-to-pack-a-uuid-into-a-struct-in-python\nfor more information about decoding."}, {"MethodName": "Document Search Results", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "query", "Description": "a search query, e.g., \"agency:FAA airplane\""}], "RequiresOAuth": "N", "URI": "/search/document/:query", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint searches document text.  Search terms are ANDed together, and quoted strings are allowed.  Additionally, filters can be included, formatted as follows: <em>filter_type:filter_text[:filter_display]</em>,\nwhere filter display is an optional additional string that consumers of the results might use in place of an identifier for display purposes (this parameter, if included, can optionally be quoted).  An example\nwould be <em>agency:FAA:\"Federal Aviation Administration\"</em>, where \"FAA\" is the agency's ID, and \"Federal Aviation Administration\" is the name to be used by clients consuming the results.</p>\n<p>Allowed filters for this document type include 'agency', 'docket', 'submitter', 'mentioned', 'type', 'comment_on', and 'date'.  'submitter' and 'mentioned' should use entity IDs, 'type' should be one of the allowed\ndocument types, and 'comment_on' should be the document ID of a Federal Regsiter document.</p>\n"}, {"MethodName": "Federal Register Document Search Results", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "query", "Description": "a search query"}], "RequiresOAuth": "N", "URI": "/search/document-fr/:query", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint is similar to the document search, but only includes Federal Register documents in its results (notices, proposed rules, and rules).</p>\n"}, {"MethodName": "Non-Federal-Register Document Search Results", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "query", "Description": "a search query"}], "RequiresOAuth": "N", "URI": "/search/document-non-fr/:query", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint is similar to the document search, but only includes non-Federal-Register documents in its results (comments, supporting material, and \"other\").</p>\n"}, {"MethodName": "Docket Search Results", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "query", "Description": "a search query"}], "RequiresOAuth": "N", "URI": "/search/docket/:query", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint provides search results for dockets, searching both the docket titles and the contents of their documents, with weight given to the former over the latter.\nFiltering is similar to that of documents, with the following types supported: 'agency', 'docket', 'submitter', 'mentioned', and 'type'.</p>\n"}, {"MethodName": "Agency Search Results", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "query", "Description": "a search query"}], "RequiresOAuth": "N", "URI": "/search/agency/:query", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint provides search results for agencies, searching on their names.\nFiltering is similar in format to that of documents, with the following types supported: 'submitter' and 'mentioned', each of which\ntakes an entity ID.  These filters show only agencies that contain documents that either were submitted by or mention the entity with that ID, respectively.</p>\n"}, {"MethodName": "Entity Search Results", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "query", "Description": "a search query"}], "RequiresOAuth": "N", "URI": "/search/entity/:query", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint provides search results for organizations, on their names.\nFiltering is similar in format to that of documents, with the following types supported: 'agency', 'docket', 'agency_mentioned', and 'docket_mentioned'.\nThe first two filter to organizations that have submitted to that agency or docket, respectively, and last two filter to organizations that have been mentioned\nin documents in that agency or docket.</p>\n"}, {"MethodName": "Docket Clustering Hierarchy", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "docket_id", "Description": "a Regulations.gov docket ID, e.g., \"EPA-HQ-OAR-2009-0234\""}, {"Default": "", "Required": "N", "Type": "string", "Name": "require_summaries", "Description": "\"true\" or \"false\"; defaults to \"false\""}], "RequiresOAuth": "N", "URI": "/docket/:docket_id/hierarchy", "HTTPMethod": "GET", "Synopsis": "<p>Docket Wrench uses hierarchical agglomerative clustering (HAC) to cluster comments on a docket-by-docket basis.  The result of this process is a so-called dendrogram\nin which clusters can be examined in a tree with smaller numbers of loose clusters at the top, dividing into larger numbers of tigher clusters towards the bottom.\nDocket Wrench includes cluster groups at the 50%, 60%, 70%, 80%, and 90% similarity levels.</p>\n<p>This endpoint returns the cluster tree for a given docket.  It includes some general information about the docket's clustering behavior in the <em>stats</em> object (its agency, and how many documents\nwere or were not included in the clustering response, for example).  The actual cluster tree is in <em>cluster_hierarchy</em>, which is a list of the loosest clusters in the docket. Each cluster\nis uniquely identified by a combination of the similarity threshold (the <em>cutoff</em> key), and the numerical ID of a canonical document it contains (the <em>name</em> key).  Thus, each cluster has a <em>cutoff</em>,\n<em>name</em>, <em>size</em> (which is the number of documents it contains), <em>phrases</em>, and <em>children</em>.  <em>children</em> is another list, of the clusters that result from the splitting of that cluster into subclusters as the\nsimilarity threshold is increased, so each will have a higher similarity threshold than its parent.  A cluster won't have children if it's already at the highest threshold (90%), or if no two documents\nit contains are sufficiently similar to still form a cluster at the next threshold of similarity.</p>\n<p>This endpoint can also supply distinguishing phrases for each cluster.  The process of calculating these phrases is computationally expensive, so by default, phrases are only included if they've already\nbeen generated and cached; each cluster's <em>phrases</em> key will be a list of strings if this is true, or null otherwise.  Setting the <em>require_summaries</em> GET parameter to <em>true</em> will force computation of phrases\nif they haven't already been generated.  Docket Wrench's usage pattern is to make an initial call to this endpoint without <em>require_summaries</em>, then make a second call with <em>require_summaries</em> if phrases weren't\nincluded in the initial response.  This allows the application to render other parts of the clustering visualization without waiting for phrases to be computed, which is slower than the initial clustering\ncalculations.  Other consuming applications may want to follow this same pattern.</p>\n"}, {"MethodName": "Single-cluster Document List", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "docket_id", "Description": "a Regulations.gov docket ID, e.g., \"EPA-HQ-OAR-2009-0234\""}, {"Default": "", "Required": "Y", "Type": "string", "Name": "cluster_id", "Description": "a numerical representative document ID, e.g., \"5123\""}, {"Default": "", "Required": "N", "Type": "string", "Name": "cutoff", "Description": "The cutoff for the docket, specified as a number between 0.5 and 0.9, inclusive."}], "RequiresOAuth": "N", "URI": "/docket/:docket_id/cluster/:cluster_id", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint supplies a list of the documents within a given cluster; it's used to fill the bottom left pane of the Docket Wrench\nclustering visualization.  The cluster is identified by its representative document ID (<em>name</em> in the full clustering response) and\na clustering threshold, supplied via the <em>cutoff</em> GET parameter as a number between 0.5 and 0.9, inclusive.</p>\n<p>The response contains a list of documents, ordered by most to least central within the cluster, with the clustering ID of each document,\nits title, and any submitter text that was included with the original document.</p>\n"}, {"MethodName": "Document with Annotated for Cluster", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "docket_id", "Description": "a Regulations.gov docket ID, e.g., \"EPA-HQ-OAR-2009-0234\""}, {"Default": "", "Required": "Y", "Type": "string", "Name": "cluster_id", "Description": "a numerical representative document ID, e.g., \"5123\""}, {"Default": "", "Required": "Y", "Type": "string", "Name": "document_id", "Description": "a numerical document ID, e.g., \"5123\""}, {"Default": "", "Required": "N", "Type": "string", "Name": "cutoff", "Description": "The cutoff for the docket, specified as a number between 0.5 and 0.9, inclusive."}], "RequiresOAuth": "N", "URI": "/docket/:docket_id/cluster/:cluster_id/document/:document_id", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint returns HTML and metadata for a particular comment within a particular cluster for a particular cutoff within a docket.  The HTML is annotated with <em>span</em> tags\nthat assign a background color to phrases within the text, where phrases that are more frequent within that document's cluster at that cutoff level are darker than those that\nare less frequent.  As Docket Wrench's clustering analysis only examines the first 10,000 characters of a document, documents may be truncated; if they are, the <em>truncated</em> key\nwill be set to <em>True</em>.</p>\n"}, {"MethodName": "Document Cluster Chain", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "docket_id", "Description": "a Regulations.gov docket ID, e.g., \"EPA-HQ-OAR-2009-0234\""}, {"Default": "", "Required": "Y", "Type": "string", "Name": "document_id", "Description": "a numerical document ID, e.g., \"5123\""}], "RequiresOAuth": "N", "URI": "/docket/:docket_id/clusters_for_document/:document_id", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint allows clients to determine which clusters at which cutoff levels contain a particular document.  Documents, dockets, and clusters are identified as with other clustering endpoints.</p>\n"}, {"MethodName": "Clustering Hierarchy Teaser", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "item_id", "Description": "a Regulations.gov document or docket ID"}], "RequiresOAuth": "N", "URI": "/docket/:item_id/hierarchy_teaser", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint is somewhat similar to the standard docket clustering view, but with less information; it's used to show a teaser of the number\nof clusters on regular Docket Wrench docket or document pages, and to decide whether or not to include a link to the full clustering display.  It only\nincludes cluster counts, and only includes those counts at the 50% and 80% levels.</p>\n<p>Information will either be about a document or docket, depending on which is requested in the URL: it will be about clusters containing that document if the URL begins with \"/document\",\notherwise it will cover all documents within the docket.  <em>item_id</em> will either be a document ID or a docket ID, accordingly.</p>\n"}, {"MethodName": "Clustering Hierarchy Teaser", "parameters": [{"Default": "", "Required": "Y", "Type": "string", "Name": "item_id", "Description": "a Regulations.gov document or docket ID"}], "RequiresOAuth": "N", "URI": "/document/:item_id/hierarchy_teaser", "HTTPMethod": "GET", "Synopsis": "<p>This endpoint is somewhat similar to the standard docket clustering view, but with less information; it's used to show a teaser of the number\nof clusters on regular Docket Wrench docket or document pages, and to decide whether or not to include a link to the full clustering display.  It only\nincludes cluster counts, and only includes those counts at the 50% and 80% levels.</p>\n<p>Information will either be about a document or docket, depending on which is requested in the URL: it will be about clusters containing that document if the URL begins with \"/document\",\notherwise it will cover all documents within the docket.  <em>item_id</em> will either be a document ID or a docket ID, accordingly.</p>\n"}]}]}